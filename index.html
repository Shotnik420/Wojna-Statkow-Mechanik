<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Statki</title>
    <link rel="stylesheet" type="text/css" href="./style.css" />
  </head>
  <body>
    <div id="mainMenu">
      <img src="/img/logo.png" />
      <div id="jebac">
        <h1>Wybierz rodzaj rozgrywki</h1>
        <button onclick="gameMode(1)" class="menuButton">Lokalnie</button>
        <button onclick="gameMode(2)" class="menuButton">Online</button>
      </div>

      <div id="local">
        <button onclick="gameMode(0)" class="back">Wroc</button>
        <button onclick="startGame(0)">Zacznij gre</button>
      </div>
      <div id="multi">
        <button onclick="gameMode(0)" class="back">Wroc</button>
        <button onclick="startGame(1)">Gracz 1</button>
        <button onclick="startGame(2)">Gracz 2</button>
      </div>
      <img src="/img/bababooya.jpg" />
    </div>
    <div id="onHold1">
      <div id="onHold1--text">Przekaż grę drugiemu graczowi</div>
      <div id="onHold1--button" onClick="zmianaPlanszy()">Potwierdzam</div>
    </div>
    <div id="onHold2">
      <div id="onHold1--text">Przekaż grę pierwszemu graczowi</div>
      <div id="onHold1--button" onClick="zmianaPlanszy()">Potwierdzam</div>
    </div>
    <div id="onHold3">
      <div id="onHold1--text">Wygrał <span id="ktory"></span> Gracz</div>
      <div id="onHold1--button" onClick="window.location.reload()">Wróc do menu</div>
    </div>
    <div id="onHold4">
      <div id="onHold1--text">Oczekiwanie na odpowiedź serwera<span id="ktory"></span> Gracz</div>
      <div id="onHold1--button" class="niggaPlease" onClick="zmianaPlanszy()">Kontynuuj</div>
    </div>
    
    <div id="sortownik">
      <div id="playarea">
        <div id="matkaPlansza">
          <div onhov id="holder"></div>

          <div id="liczby">
            <div class="liczbyPola">1</div>
            <div class="liczbyPola">2</div>
            <div class="liczbyPola">3</div>
            <div class="liczbyPola">4</div>
            <div class="liczbyPola">5</div>
            <div class="liczbyPola">6</div>
            <div class="liczbyPola">7</div>
            <div class="liczbyPola">8</div>
            <div class="liczbyPola">9</div>
            <div class="liczbyPola">10</div>
          </div>
          <div id="literki">
            <div class="literkiPola">A</div>
            <div class="literkiPola">B</div>
            <div class="literkiPola">C</div>
            <div class="literkiPola">D</div>
            <div class="literkiPola">E</div>
            <div class="literkiPola">F</div>
            <div class="literkiPola">G</div>
            <div class="literkiPola">H</div>
            <div class="literkiPola">I</div>
            <div class="literkiPola">J</div>
          </div>
          <div id="plansza"></div>
        </div>

        <div id="matkaPlansza2">
          <div id="holder"></div>

          <div id="liczby">
            <div class="liczbyPola">1</div>
            <div class="liczbyPola">2</div>
            <div class="liczbyPola">3</div>
            <div class="liczbyPola">4</div>
            <div class="liczbyPola">5</div>
            <div class="liczbyPola">6</div>
            <div class="liczbyPola">7</div>
            <div class="liczbyPola">8</div>
            <div class="liczbyPola">9</div>
            <div class="liczbyPola">10</div>
          </div>
          <div id="literki">
            <div class="literkiPola">A</div>
            <div class="literkiPola">B</div>
            <div class="literkiPola">C</div>
            <div class="literkiPola">D</div>
            <div class="literkiPola">E</div>
            <div class="literkiPola">F</div>
            <div class="literkiPola">G</div>
            <div class="literkiPola">H</div>
            <div class="literkiPola">I</div>
            <div class="literkiPola">J</div>
          </div>
          <div id="plansza2"></div>
        </div>
      </div>
      <div>
        <div id="fightContainer">
          <button class="buon2" onclick="zmianaPlanszy()">Kontynuuj</button>
          <button class="buon2" onclick="pal()">Zatwierdz</button>
          <img id="boobies" src="./img/missle.png"/> <span id="rocketCounter">3</span></p>
          <div id="fCounter"></div>
          <div id="eCounter"></div>
        </div>
        <div id="buonContainer">
          <button class="buon2" id="Lnegro"onclick="holUp()">Kontynuuj</button>
          <button class="buon2" id="negro" onclick="zmianaPlanszy()">fuck this man</button>
          <button class="buon2 jedynka" id="jedynka" onclick="wyborStatku(1)">
            1
          </button>
          <button class="buon2 dwojka" id="dwojka" onclick="wyborStatku(2)">
            2
          </button>
          <button class="buon2 trojka" id="trojka" onclick="wyborStatku(3)">
            3
          </button>
          <button class="buon2 czworka" id="czworka" onclick="wyborStatku(4)">
            4
          </button>
        </div>
      </div>
    </div>

    <div id="siurek"></div>
    <button id="FUCKYOU">Send nudle</button>
    <button id="FUCKYOU2">Get nudle</button>

    <script src="script.js"></script>

    <!-- KUUUUUUUUURWAAAAAAAAA -->
    <!-- /\
            _/./
        ,-'    `-:..-'/
        : o )      _  (
        "`-....,--; `-.\
            `' -->
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.20.0/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.20.0/firebase-analytics.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyB_iDY2SkxRVDFftx4fR3k9cdikocaUrdw",
        authDomain: "statki-a13a3.firebaseapp.com",
        databaseURL:
          "https://statki-a13a3-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "statki-a13a3",
        storageBucket: "statki-a13a3.appspot.com",
        messagingSenderId: "233308820220",
        appId: "1:233308820220:web:92f5a36d19bdb40b65bd79",
        measurementId: "G-WK9N3M05F3",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);
      document.querySelector("#FUCKYOU").addEventListener("click", sendData);
      document.querySelector("#FUCKYOU2").addEventListener("click", getData);
      import {
        getDatabase,
        set,
        get,
        update,
        remove,
        ref,
        child
      } from "https://www.gstatic.com/firebasejs/9.20.0/firebase-database.js";
      const db = getDatabase();
      document.addEventListener("sendTheData", e =>{
          sendData();
        })
        document.addEventListener("getThePlayer", e =>{
          getPlayer();
        })
      function sendData () {
        set(ref(db, "Game"), {
          Gracz: Gamer,
          Statki1: [statki],
          Statki2: [statki2],
          StatkiGhost1: [statkiGhost],
          StatkiGhost2: [statkiGhost2],
          StrzalyMem: [strzalyMem ],
          StrzalyMem2: [strzalyMem2 ],
          BrokenStatki: [brokenStatki],
          BrokenStatki2: [brokenStatki2],
          Counter1: counter1,
          Counter2: counter2,
          Counter3: counter3,
          Counter4: counter4,
          Counter2_1: counter2_1,
          Counter2_2: counter2_2,
          Counter2_3: counter2_3,
          Counter2_4: counter2_4,
         
        })
          .then(() => {
            console.log("pakiet wysłany");
            return false;
          })
          .catch((error) => {
            alert(error);
          });

        
      }
      function getPlayer(){
        const duparef = ref(db)
        get(child(duparef, "Game/Gracz")).then((snapshot)=>{

          console.log(snapshot.val());
          whoGames=snapshot.val();
        })
      }
      function getData () {
        
        const dbref = ref(db)
        
        get(child(dbref, "Game/Statki1/0")).then((snapshot)=>{
          statki = [];
          snapshot.forEach(childSnapshot =>{
            statki.push(childSnapshot.val());
          })
        })
        get(child(dbref, "Game/Statki2/0")).then((snapshot)=>{
          statki2 = [];
          snapshot.forEach(childSnapshot =>{
            statki2.push(childSnapshot.val());
          })
        })
        get(child(dbref, "Game/StrzalyMem/0")).then((snapshot)=>{
          strzalyMem = [];
          snapshot.forEach(childSnapshot =>{
            strzalyMem.push(childSnapshot.val());
          })
        })
        get(child(dbref, "Game/StrzalyMem2/0")).then((snapshot)=>{
          strzalyMem2 = [];
          snapshot.forEach(childSnapshot =>{
            strzalyMem2.push(childSnapshot.val());
          })
        })
        get(child(dbref, "Game/BrokenStatki/0")).then((snapshot)=>{
          brokenStatki = [];
          snapshot.forEach(childSnapshot =>{
            brokenStatki.push(childSnapshot.val());
          })
        })
        get(child(dbref, "Game/BrokenStatki2/0")).then((snapshot)=>{
          brokenStatki2 = [];
          snapshot.forEach(childSnapshot =>{
            brokenStatki2.push(childSnapshot.val());
          })
        })
        get(child(duparef, "Game/Counter1")).then((snapshot)=>{
        counter1=snapshot.val();
        })
        get(child(duparef, "Game/Counter2")).then((snapshot)=>{
        counter2=snapshot.val();
        })
        get(child(duparef, "Game/Counter3")).then((snapshot)=>{
        counter3=snapshot.val();
        })
        get(child(duparef, "Game/Counter4")).then((snapshot)=>{
        counter4=snapshot.val();
        })
        get(child(duparef, "Game/Counter2_1")).then((snapshot)=>{
        counter2_1=snapshot.val();
        })
        get(child(duparef, "Game/Counter2_2")).then((snapshot)=>{
        counter2_2=snapshot.val();
        })
        get(child(duparef, "Game/Counter2_3")).then((snapshot)=>{
        counter2_3=snapshot.val();
        })
        get(child(duparef, "Game/Counter2_4")).then((snapshot)=>{
        counter2_4=snapshot.val();
        })

        
        

      }
      
    </script>
    <script></script>
  </body>
</html>
